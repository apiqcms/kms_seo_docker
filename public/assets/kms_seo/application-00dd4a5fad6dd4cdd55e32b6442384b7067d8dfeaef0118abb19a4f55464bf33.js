(function(){"use strict";angular.module("KMS").config(["$stateProvider","$urlRouterProvider",function(t){return t.state("redirects",{url:"/kms/redirects",views:{header:{template:"Redirects"},"@":{controller:"RedirectsController",controllerAs:"redirects",templateUrl:"redirects/index.html"}}})}])}).call(this),angular.module("templates").run(["$templateCache",function(t){t.put("help/seo_variables.html",'<h4>Variables</h4><p><ul><li><var>seo</var><p><span>Object &quot;seo&quot; gives access to SEO properties of current page (or object). You can specify these properties in &quot;SEO&quot; section while editing your Page. If you have a Templatable Page (with enabled &quot;Use as object template&quot; option) and APIQ Models installed, you would probably want to have &quot;title&quot;, &quot;description&quot; and etc. specified for each Model entry. And APIQ SEO still works for this: just follow a convention of adding special text fields to your Model: &quot;seo_title&quot;, &quot;seo_description&quot;, &quot;seo_keywords&quot; and &quot;seo_h1&quot; - and &quot;seo&quot; object for item/entry page will show you a content of these fields</span></p><p><code ng-non-bindable="">&lt;title&gt;{{ seo.title }}&lt;/title&gt;<br />&lt;meta name="keywords" content="{{ seo.keywords }}"&gt;<br />&lt;meta name="description" content="{{ seo.description }}"&gt;<br />...<br />&lt;h1&gt;{{ seo.h1 }}&lt;/h1&gt;</code></p><p><table class="table"><tr><th>Property of seo</th><th>Description</th></tr><tr><td>title</td><td>Content for &lt;title&gt; tag</td></tr><tr><td>keywords</td><td>Content for &lt;meta name=&#39;keywords&#39;... tag</td></tr><tr><td>description</td><td>Content for &lt;meta name=&#39;description&#39;... tag</td></tr><tr><td>h1</td><td>Content for page main header (h1)</td></tr></table></p></li></ul></p>')}]),angular.module("templates").run(["$templateCache",function(t){t.put("pages/seo.html",'<accordion close-others="true"><accordion-group is-open="status.open"><accordion-heading><i class="pull-left glyphicon" ng-class="{&#39;glyphicon-chevron-down&#39;: status.open, &#39;glyphicon-chevron-right&#39;: !status.open}"></i>&nbsp;SEO</accordion-heading><div class="form-group"><label for="seo_title">Meta Title</label><input class="form-control" id="seo_title" ng-model="page.seo_title" type="text" /></div><div class="form-group"><label for="seo_keywords">Meta Keywords</label><input class="form-control" id="seo_keywords" ng-model="page.seo_keywords" type="text" /></div><div class="form-group"><label for="seo_description">Meta Description</label><input class="form-control" id="seo_description" ng-model="page.seo_description" type="text" /></div><div class="form-group"><label for="seo_h1">H1</label><input class="form-control" id="seo_h1" ng-model="page.seo_h1" type="text" /></div></accordion-group></accordion>')}]),angular.module("templates").run(["$templateCache",function(t){t.put("redirects/index.html",'<div class="row"><div class="col-lg-12"><div class="widget"><div class="widget-header"><i class="fa fa-list"></i>Redirects<a class="btn btn-sm btn-primary pull-right" ng-click="addRedirect()">Add Redirect</a></div><div class="widget-body no-padding"><div class="table-responsive"><table class="table"><tbody><tr ng-repeat="redirect in redirects"><td style="width: 40%"><span e-form="editRedirectForm" e-name="source" e-required="" editable-text="redirect.source">{{ redirect.source || \'Source/From\' }}</span></td><td style="width: 40%"><span e-form="editRedirectForm" e-name="destination" e-required="" editable-text="redirect.destination">{{ redirect.destination || \'Destination/To\' }}</span></td><td><form class="form-buttons form-inline pull-right" editable-form="" name="editRedirectForm" ng-show="editRedirectForm.$visible" onbeforesave="save($data, redirect)"><button class="btn btn-primary" ng-disabled="editRedirectForm.$waiting" type="submit"><span class="glyphicon glyphicon-ok"></span></button><button class="btn btn-default" ng-click="editRedirectForm.$cancel()" ng-disabled="editRedirectForm.$waiting" type="button"><span class="glyphicon glyphicon-remove"></span></button></form><div class="btn-group pull-right" ng-show="!editRedirectForm.$visible"><a class="btn btn-sm btn-info" ng-click="editRedirectForm.$show()"><i class="fa fa-pencil"></i></a><a class="btn btn-sm btn-danger" ng-click="destroy(redirect)"><i class="fa fa-times"></i></a></div></td></tr></tbody></table></div></div></div></div></div>')}]),angular.module("templates").run(["$templateCache",function(t){t.put("settings/robots.html",'<div class="form-group"><label>Robots.txt</label><textarea class="form-control" ng-model="settings.values.robots" rows="5"></textarea></div>')}]),function(){var t;t=function(t,e,o){return t.store=o.all("redirects"),t.store.getList().then(function(e){return t.redirects=e}),t.addRedirect=function(){return t.redirects.unshift({source:"",destination:""})},t.save=function(t,e){var r;return e.source=t.source,e.destination=t.destination,null!=e.id?e.put():(r=o.restangularizeElement(null,e,"redirects"),r.save())},t.destroy=function(e){var r;if(null!=e.id){if(r=o.restangularizeElement(null,e,"redirects"),!confirm("Are you sure?"))return;return r.remove().then(function(){return t.redirects=_.without(t.redirects,e)})}return t.redirects=_.without(t.redirects,e)}},angular.module("KMS").controller("RedirectsController",["$scope","$state","Restangular","$stateParams",t])}.call(this);